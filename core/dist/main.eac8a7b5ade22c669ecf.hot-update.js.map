{"version":3,"sources":["webpack:///./core/actions/loading/thunkActions/loadApp.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AAEA;AACA;AACA;AAEc;AACV,WAAO,UAAgB,QAAhB,EAAwB;;;;;;;AAWf,mCAAM,+CAAY,kBAAZ,CAAN;;AAAN,8BAAM,SAAN;AACA,iCAAS,IAAI,IAAJ,CAAS,KAAlB;AACN,2FAAW,sCAAQ,MAAR,EAAgB,eAAhB,CAAX;AACA,iCAAS,0CAAc,OAAd,CAAsB,QAAtB,CAA+B,EAAE,OAAO,KAAT,EAA/B,CAAT;;;;AAEI,gCAAQ,GAAR,CAAY,gCAAZ,EAA8C,GAA9C;;;;;;;AAEP,KAlBD;AAmBH,C","file":"main.eac8a7b5ade22c669ecf.hot-update.js","sourcesContent":["import { ThunkAction } from \"redux-thunk\";\nimport { AppState } from \"../../../store\";\nimport { setupPouch } from \"../../../database/pouch\";\nimport { AnyAction } from \"tquinlan1992-typescript-react-redux-utils\";\nimport * as request from 'superagent';\nimport * as urljoin from 'url-join';\nimport actionReducer from \"../\";\n\nexport default function loadApp(): ThunkAction<void, AppState, void, AnyAction> {\n    return async function (dispatch) {\n        // return request\n        //     .get('/static/api.json')\n        //     .end((err, res) => {\n        //         const apiUrl = res.body.value;\n        //         console.log('got api.json');\n        //         setupPouch(urljoin(apiUrl, '/couchdb/test'));\n        //         console.log('res tommy', res.body.value);\n        //         dispatch(actionReducer.actions.setValue({ value: false }));\n        //     });\n        try {\n        const res = await request.get('/static/api.json');\n        const apiUrl = res.body.value;\n        setupPouch(urljoin(apiUrl, '/couchdb/test'));\n        dispatch(actionReducer.actions.setValue({ value: false }));\n        } catch(e) {\n            console.log('error getting /static/api.json', e);\n        }\n    };\n}\n"],"sourceRoot":""}